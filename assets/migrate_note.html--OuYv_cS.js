import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as r,a as n,d as e,b as t,e as s,w as l,r as p,o as d}from"./app-tx1KU5ru.js";const h={};function k(c,i){const a=p("RouteLink");return d(),r("div",null,[i[8]||(i[8]=n(`<p>由於 2.1 版本進行了破壞性更新, 因此在升級前請務必:</p><ul><li>備份好原資料庫</li><li>在非生產環境下進行遷移</li><li>確認遷移後資料的正確性</li></ul><h2 id="config-yml" tabindex="-1"><a class="header-anchor" href="#config-yml"><span>config.yml</span></a></h2><p>2.1 版本移除了 <code>config.yml</code> 中的部分設定, 也添加了部分新設定, 請<strong>備份並刪除</strong>原有的 <code>config.yml</code> 檔案, 並啟動一次伺服器以自動生成新的設定檔案。</p><h2 id="unlocker" tabindex="-1"><a class="header-anchor" href="#unlocker"><span>unlocker</span></a></h2><p>2.1 版本完全重做了 unlocker 功能, 所以需要<strong>重新編寫</strong>所有 entry 中的 unlocker 設定(在此非常抱歉帶來的不便)<br> 原設定應該是類似於這樣的:</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">unlock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;break block&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    data</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;STONE&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    condition</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">|-</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      check break-block total-amount &gt;= 5</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,7)),e("p",null,[i[1]||(i[1]=n("而在 2.1 版本中, 我們移除了 <code>data</code> 設定, 以 <code>condition</code> 取而代之, 原來的 <code>condition</code> 則更名為 <code>goal</code>, 意為 <code>condition</code> 為觸發這個 unlocker 對應事件的條件, 而 <code>goal</code> 則為成功觸發這個 unlocker 的總次數或其他特定條件.<br> 另外, 我們完全移除了用 kether 腳本來定義條件的方式, 轉而使用固定的鍵值對來定義條件, 以避免腳本的不穩定性。(參考 ",15)),t(a,{to:"/zh-TW/plugins/partner/Chemdah/"},{default:l(()=>i[0]||(i[0]=[s("Chemdah")])),_:1}),i[2]||(i[2]=s(" 的設計思路)")),i[3]||(i[3]=e("br",null,null,-1)),i[4]||(i[4]=s(" 所以在 2.1 版本中的 unlocker 設定應該是這樣的:"))]),i[9]||(i[9]=n(`<div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">unlock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;break block&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    condition</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      material</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;stone&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    goal</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      amount</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1)),e("p",null,[i[6]||(i[6]=s("具體每個 unlocker 所提供的條件和目標鍵請參考其對應的說明介面, 可以在")),t(a,{to:"/zh-TW/plugins/yuseries/YuIllustration/unlocker/"},{default:l(()=>i[5]||(i[5]=[s("這裡")])),_:1}),i[7]||(i[7]=s("查看目錄索引."))]),i[10]||(i[10]=n('<h2 id="cache" tabindex="-1"><a class="header-anchor" href="#cache"><span>cache</span></a></h2><p>由於使用了新的 manager 系統，所以需要重新建立 cache 資料，操作過程如下：</p><ul><li>在伺服器跟目錄(與 <code>plugins</code> 同層)下找到 <code>cache</code> 資料夾</li><li>打開 <code>cache</code> 資料夾，找到 <code>taboolib/com.github.l1an.yuillustration</code> 資料夾</li><li>將其完全刪除</li><li>重新啟動伺服器</li></ul><div class="hint-container tip"><p class="hint-container-title">提示</p><p>感謝 @soraniko 提出該更新提醒</p></div>',4))])}const m=o(h,[["render",k]]),y=JSON.parse('{"path":"/zh-TW/plugins/yuseries/YuIllustration/update/migrate_note.html","title":"從 2.0 升級到 2.1","lang":"zh-TW","frontmatter":{"title":"從 2.0 升級到 2.1","order":1,"description":"由於 2.1 版本進行了破壞性更新, 因此在升級前請務必: 備份好原資料庫 在非生產環境下進行遷移 確認遷移後資料的正確性 config.yml 2.1 版本移除了 config.yml 中的部分設定, 也添加了部分新設定, 請備份並刪除原有的 config.yml 檔案, 並啟動一次伺服器以自動生成新的設定檔案。 unlocker 2.1 版本完全重...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"從 2.0 升級到 2.1\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-05-06T16:05:11.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"L1An\\",\\"url\\":\\"https://github.com/l1-an\\"}]}"],["meta",{"property":"og:url","content":"https://docs.yuseries.org/zh-TW/plugins/yuseries/YuIllustration/update/migrate_note.html"}],["meta",{"property":"og:site_name","content":"YuSeries 文檔"}],["meta",{"property":"og:title","content":"從 2.0 升級到 2.1"}],["meta",{"property":"og:description","content":"由於 2.1 版本進行了破壞性更新, 因此在升級前請務必: 備份好原資料庫 在非生產環境下進行遷移 確認遷移後資料的正確性 config.yml 2.1 版本移除了 config.yml 中的部分設定, 也添加了部分新設定, 請備份並刪除原有的 config.yml 檔案, 並啟動一次伺服器以自動生成新的設定檔案。 unlocker 2.1 版本完全重..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-TW"}],["meta",{"property":"og:updated_time","content":"2025-05-06T16:05:11.000Z"}],["meta",{"property":"article:modified_time","content":"2025-05-06T16:05:11.000Z"}]]},"git":{"createdTime":1745683320000,"updatedTime":1746547511000,"contributors":[{"name":"L1-An","username":"L1-An","email":"shiyu46@icloud.com","commits":3,"url":"https://github.com/L1-An"}]},"readingTime":{"minutes":1.51,"words":452},"filePathRelative":"zh-TW/plugins/yuseries/YuIllustration/update/migrate_note.md","autoDesc":true,"excerpt":"<p>由於 2.1 版本進行了破壞性更新, 因此在升級前請務必:</p>\\n<ul>\\n<li>備份好原資料庫</li>\\n<li>在非生產環境下進行遷移</li>\\n<li>確認遷移後資料的正確性</li>\\n</ul>\\n<h2>config.yml</h2>\\n<p>2.1 版本移除了 <code>config.yml</code> 中的部分設定, 也添加了部分新設定, 請<strong>備份並刪除</strong>原有的 <code>config.yml</code> 檔案, 並啟動一次伺服器以自動生成新的設定檔案。</p>\\n<h2>unlocker</h2>\\n<p>2.1 版本完全重做了 unlocker 功能, 所以需要<strong>重新編寫</strong>所有 entry 中的 unlocker 設定(在此非常抱歉帶來的不便)<br>\\n原設定應該是類似於這樣的:</p>"}');export{m as comp,y as data};
